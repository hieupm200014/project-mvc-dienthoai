
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/layoutlogin.cshtml";
}

<div class="login-form" id="login">
    <div class="container" style="margin-top: 6%; margin-bottom: 8%; margin-left:20%; ">
        <h1 style="margin-left: 50px;margin-bottom: 30px;">ĐĂNG NHẬP</h1>
        <div class="row">
            <div class="col-12 col-md-4" style="border: 1px solid #cdcdcd; border-radius: 10px;padding: 2%;">
                <div class="alert alert-danger d-none" id="err">
                    Thông tin tài khoản mật khẩu không chính xác!
                </div>
                <form>
                    <div class="input-group mb-3" style="padding-left: 30px;">
                        <span class="input-group-text">
                            <i class="bx bx-envelope bx-sm">Tài khoản:</i>
                        </span>
                        <input type="text"
                               class="form-control"
                               name="email"
                               id="email"
                               placeholder="Nhập email..."
                               required />
                    </div><br />
                    <div class="input-group mb-3" style="padding-left: 30px;">
                        <span class="input-group-text">
                            <i class="bx bx-key bx-sm">Mật khẩu:</i>
                        </span>
                        <input type="password"
                               id="password"
                               class="form-control"
                               name="password"
                               placeholder="Nhập mật khẩu..."
                               required />
                    </div><br />
                    <button type="submit" class="btn btn-primary mb-2" style="margin-left: 110px;">
                        <i class="bx bx-lock-open text-white"></i>
                        Đăng nhập
                    </button>
                    <p class="mt-2 mb-0" style="margin-left: 80px;">
                        <a href="#">Quên mật khẩu </a>|
                        <a href="#">Đăng ký</a>
                    </p>
                </form>
            </div>
            <div class="col-12 col-md-3" style="border: 1px solid #cdcdcd; border-radius: 10px; margin-left: 3%; padding: 2%;">
                <p class="text-center mt-2">Đăng nhập bằng tài khoản mạng xã hội</p>
                <div class="btn-login-group" style="margin-left: 30px;">
                    <a href="#" class="btn btn-login btn-login-facebook mb-3">
                        <i class="fa fa-facebook-square" style="color: blue; font-size:18px;"></i>&nbsp;&nbsp;
                        Đăng nhập với Facebook
                    </a>
                    <a href="#" class="btn btn-login btn-login-google mb-3">
                        <i class="fa fa-google" style="color: blue; font-size:15px;"></i>&nbsp;&nbsp;
                        Đăng nhập với Google
                    </a>
                </div>
            </div>
        </div>
     </div>
</div>

<script>
    document.querySelector("#login").addEventListener("submit", async e => {
        e.preventDefault();
        const data = await (await fetch("/Home/Login", { method: "post", body: new FormData(e.target) })).json();
        if (data.success) {
            location.href = "/Home/Index";
        } else {
            document.querySelector("#err").classList.remove("d-none");
        }
    });
</script>

